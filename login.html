<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

<title>VOID - Login</title>

<link rel="stylesheet" href="style.css"/>

<script type="module" src="firebase-config.js"></script>
<script type="module" src="auth.js"></script>

</head>

<body class="bg-void">

<div class="auth-wrap">

<div class="auth-decor"></div>

<div class="auth-card">

<h1 class="brand">VOID</h1>
<p class="brand-sub">Accedi e fai vivere i tuoi post.</p>

<div class="hr"></div>

<input id="email" type="email" placeholder="Email"/>
<input id="pass" type="password" placeholder="Password"/>

<button class="btn" id="loginBtn">Accedi</button>

<a class="small-link" href="register.html">
Non hai un account? Registrati
</a>

<a class="small-link" href="index.html">
‚Üê Indietro
</a>

<p id="msg" class="muted"></p>

</div>
</div>


<script type="module">

import { login } from "./auth.js";

const btn =
document.getElementById("loginBtn");

const msg =
document.getElementById("msg");

btn.addEventListener("click", async ()=>{

msg.textContent="Accesso...";

try{

const email =
document.getElementById("email").value.trim();

const pass =
document.getElementById("pass").value;

await login(email,pass);

msg.textContent="Login riuscito";

setTimeout(()=>{

window.location.href="home.html";

},500);

}catch(e){

console.error(e);

msg.textContent =
e.message ?? "Errore login";

}

});

</script>

</body>
</html>
